<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gluttony</title>
  <!-- Include p5.js library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      cursor: none;
    }

    #custom-cursor {
        position: fixed;
        top: 0;
        font-weight: bold;
        font-size: 85px;
        color: black;
        left: 0;
        font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        display: none; /* Initially hide the custom cursor */
        pointer-events: none; /* Allow clicks to pass through the custom cursor */
    }
    #custom-cursor.visible {
        display: block; /* Show the custom cursor when needed */
    }

  </style>
</head>
<body>
  <!-- Audio element for chewing sound -->
  <audio id="chewing-audio" preload="auto">
    <source src="chewing.mp3" type="audio/mpeg">
  </audio>
  
  <script>
    // Paste your JavaScript code here
    let x = (y = 0);
    const fontSize = 16;
    const noiseScale = 0.0004;
    const noiseStrength = 30; // Strength of noise effect
    const foodEmojis = [
      "🍏", "🍎", "🍐", "🍊", "🍋", "🍌", "🍉", "🍇", "🍓", "🍈", "🍒", "🍑", "🍍", "🥭", "🍅", "🍆", "🥑", "🥦", "🥒", "🥬",
      "🌶️", "🌽", "🥕", "🥔", "🍠", "🥐", "🍞", "🥖", "🥨", "🧀", "🥚", "🍳", "🥓", "🥩", "🍗", "🍖", "🦴", "🌭", "🍔", "🍟",
      "🍕", "🥪", "🥙", "🌮", "🌯", "🥗", "🥘", "🍲", "🥣", "🥫", "🍱", "🍛", "🍣", "🍤", "🍙", "🍚", "🍘", "🍥", "🥮", "🍢",
      "🍡", "🍧", "🍨", "🍦", "🥧", "🍰", "🎂", "🧁", "🍮", "🍭", "🍬", "🍫", "🍿", "🧂", "🍩", "🍪", "🌰", "🥜", "🍯", "🥛",
      "🍼", "☕", "🍵", "🍶", "🍾", "🍷", "🍸", "🍹", "🍺", "🍻", "🥂", "🥃", "🥤", "🧃", "🧉", "🧊"
    ];

    // Play the chewing sound
    function playChewingSound() {
      const audio = document.getElementById("chewing-audio");
      audio.play();
    }

    function setup() {
      createCanvas(windowWidth, windowHeight);
      textSize(fontSize);

      // Trigger audio playback when canvas is clicked
      canvas.addEventListener('click', playChewingSound);
    }

    function draw() {
      background(255);
      let t = frameCount * noiseScale;
      for (let i = 0; i < width; i += fontSize) {
        for (let j = 0; j < height; j += fontSize) {
          const n = noise((i + x) * noiseScale, (j + y) * noiseScale, t);
          const index = int(map(n, 0, 1, 0, foodEmojis.length));
          let chr = foodEmojis[index];
          // Introduce glitch effect
          if (random(1) < 0.05) { // Adjust probability for glitchiness
            chr = random(foodEmojis); // Replace with random emoji
          }
          push();
          // Apply random offset for glitchy movement
          translate(random(-noiseStrength, noiseStrength), random(-noiseStrength, noiseStrength));
          text(chr, i, j);
          pop();
        }
      }
    }

    function mouseMoved() {
      x += pmouseX - mouseX;
      y += pmouseY - mouseY;
    }
  </script>

<div id="custom-cursor">LET ME EAT</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var cursor = document.getElementById('custom-cursor');
        
        document.addEventListener('mousemove', function(e) {
            // Update the position of the custom cursor to the mouse position
            cursor.style.left = e.pageX + 'px';
            cursor.style.top = e.pageY + 'px';
        });

        // Show the custom cursor when the mouse enters the document
        document.addEventListener('mouseenter', function() {
            cursor.classList.add('visible');
        });

        // Hide the custom cursor when the mouse leaves the document
        document.addEventListener('mouseleave', function() {
            cursor.classList.remove('visible');
        });
    });
</script>

</body>
</html>
